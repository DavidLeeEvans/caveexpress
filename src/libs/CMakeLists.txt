FILE(GLOB libs_SRCS
	lua/lapi.cpp
	lua/lauxlib.cpp
	lua/lbaselib.cpp
	lua/lbitlib.cpp
	lua/lcode.cpp
	lua/lcorolib.cpp
	lua/lctype.cpp
	lua/ldblib.cpp
	lua/ldebug.cpp
	lua/ldo.cpp
	lua/ldump.cpp
	lua/lfunc.cpp
	lua/lgc.cpp
	lua/linit.cpp
	lua/liolib.cpp
	lua/llex.cpp
	lua/lmathlib.cpp
	lua/lmem.cpp
	lua/loadlib.cpp
	lua/lobject.cpp
	lua/lopcodes.cpp
	lua/loslib.cpp
	lua/lparser.cpp
	lua/lstate.cpp
	lua/lstring.cpp
	lua/lstrlib.cpp
	lua/ltable.cpp
	lua/ltablib.cpp
	lua/ltm.cpp
	lua/lundump.cpp
	lua/lvm.cpp
	lua/lzio.cpp
	SDL_mixer/dynamic_flac.c
	SDL_mixer/dynamic_fluidsynth.c
	SDL_mixer/dynamic_mod.c
	SDL_mixer/dynamic_mp3.c
	SDL_mixer/dynamic_ogg.c
	SDL_mixer/effect_position.c
	SDL_mixer/effects_internal.c
	SDL_mixer/effect_stereoreverse.c
	SDL_mixer/fluidsynth.c
	SDL_mixer/load_aiff.c
	SDL_mixer/load_flac.c
	SDL_mixer/load_ogg.c
	SDL_mixer/load_voc.c
	SDL_mixer/mixer.c
	SDL_mixer/music.c
	SDL_mixer/music_cmd.c
	SDL_mixer/music_flac.c
	SDL_mixer/music_mad.c
	SDL_mixer/music_mod.c
	SDL_mixer/music_modplug.c
	SDL_mixer/music_ogg.c
	SDL_mixer/wavestream.c
	SDL_net/SDLnet.c
	SDL_net/SDLnetselect.c
	SDL_net/SDLnetTCP.c
	SDL_net/SDLnetUDP.c
	tinyxml2/tinyxml2.cpp
	yajl/yajl_alloc.c
	yajl/yajl_buf.c
	yajl/yajl.c
	yajl/yajl_encode.c
	yajl/yajl_gen.c
	yajl/yajl_lex.c
	yajl/yajl_parser.c
	yajl/yajl_tree.c
	zlib/adler32.c
	zlib/compress.c
	zlib/crc32.c
	zlib/deflate.c
	zlib/gzclose.c
	zlib/gzlib.c
	zlib/gzread.c
	zlib/gzwrite.c
	zlib/infback.c
	zlib/inffast.c
	zlib/inflate.c
	zlib/inftrees.c
	zlib/trees.c
	zlib/uncompr.c
	zlib/zutil.c
	libpng-1.6.2/png.c
	libpng-1.6.2/pngerror.c
	libpng-1.6.2/pngget.c
	libpng-1.6.2/pngmem.c
	libpng-1.6.2/pngpread.c
	libpng-1.6.2/pngread.c
	libpng-1.6.2/pngrio.c
	libpng-1.6.2/pngrtran.c
	libpng-1.6.2/pngrutil.c
	libpng-1.6.2/pngset.c
	libpng-1.6.2/pngtrans.c
	libpng-1.6.2/pngwio.c
	libpng-1.6.2/pngwrite.c
	libpng-1.6.2/pngwtran.c
	libpng-1.6.2/pngwutil.c
	SDL/src/video/*.c
	SDL/src/video/raspberry/*.c
	SDL/src/video/dummy/*.c
	SDL/src/video/directfb/*.c
	SDL/src/video/pandora/*.c
	SDL/src/video/x11/*.c
	SDL/src/video/wayland/*.c
	SDL/src/video/bwindow/*.c
	SDL/src/file/*.c
	SDL/src/render/*.c
	SDL/src/render/opengl/*.c
	SDL/src/render/opengles/*.c
	SDL/src/render/software/*.c
	SDL/src/render/opengles2/*.c
	SDL/src/haptic/*.c
	SDL/src/haptic/dummy/*.c
	SDL/src/loadso/*.c
	SDL/src/loadso/dummy/*.c
	SDL/src/loadso/dlopen/*.c
	SDL/src/dynapi/*.c
	SDL/src/main/*.c
	SDL/src/timer/*.c
	SDL/src/timer/dummy/*.c
	SDL/src/filesystem/*.c
	SDL/src/filesystem/unix/*.c
	SDL/src/filesystem/dummy/*.c
	SDL/src/events/*.c
	SDL/src/joystick/*.c
	SDL/src/joystick/bsd/*.c
	SDL/src/joystick/dummy/*.c
	SDL/src/input/*.c
	SDL/src/input/evdev/*.c
	SDL/src/core/*.c
	SDL/src/cpuinfo/*.c
	SDL/src/libm/*.c
	SDL/src/power/*.c
	SDL/src/power/uikit/*.c
	SDL/src/audio/*.c
	SDL/src/audio/bsd/*.c
	SDL/src/audio/esd/*.c
	SDL/src/audio/dummy/*.c
	SDL/src/audio/dsp/*.c
	SDL/src/audio/paudio/*.c
	SDL/src/audio/baudio/*.c
	SDL/src/audio/sndio/*.c
	SDL/src/audio/disk/*.c
	SDL/src/audio/sun/*.c
	SDL/src/audio/qsa/*.c
	SDL/src/audio/fusionsound/*.c
	SDL/src/audio/nas/*.c
	SDL/src/atomic/*.c
	SDL/src/thread/*.c
	SDL/src/stdlib/*.c
	SDL/src/*.c
	SDL_image/IMG_bmp.c
	SDL_image/IMG.c
	SDL_image/IMG_gif.c
	SDL_image/IMG_jpg.c
	SDL_image/IMG_lbm.c
	SDL_image/IMG_pcx.c
	SDL_image/IMG_png.c
	SDL_image/IMG_pnm.c
	SDL_image/IMG_tga.c
	SDL_image/IMG_tif.c
	SDL_image/IMG_webp.c
	SDL_image/IMG_xcf.c
	SDL_image/IMG_xpm.c
	SDL_image/IMG_xv.c
	sqlite/sqlite3.c
	gtest/src/gtest-all.cc
	libogg-1.3.1/src/framing.c
	libogg-1.3.1/src/bitwise.c
	Box2D/Common/b2StackAllocator.cpp
	Box2D/Common/b2BlockAllocator.cpp
	Box2D/Common/b2Draw.cpp
	Box2D/Common/b2Timer.cpp
	Box2D/Common/b2Settings.cpp
	Box2D/Common/b2Math.cpp
	Box2D/Collision/b2TimeOfImpact.cpp
	Box2D/Collision/b2CollidePolygon.cpp
	Box2D/Collision/b2CollideEdge.cpp
	Box2D/Collision/b2BroadPhase.cpp
	Box2D/Collision/b2CollideCircle.cpp
	Box2D/Collision/b2Collision.cpp
	Box2D/Collision/b2Distance.cpp
	Box2D/Collision/Shapes/b2PolygonShape.cpp
	Box2D/Collision/Shapes/b2ChainShape.cpp
	Box2D/Collision/Shapes/b2CircleShape.cpp
	Box2D/Collision/Shapes/b2EdgeShape.cpp
	Box2D/Collision/b2DynamicTree.cpp
	Box2D/Dynamics/b2Body.cpp
	Box2D/Dynamics/b2World.cpp
	Box2D/Dynamics/b2ContactManager.cpp
	Box2D/Dynamics/b2Fixture.cpp
	Box2D/Dynamics/Contacts/b2Contact.cpp
	Box2D/Dynamics/Contacts/b2ChainAndCircleContact.cpp
	Box2D/Dynamics/Contacts/b2PolygonAndCircleContact.cpp
	Box2D/Dynamics/Contacts/b2CircleContact.cpp
	Box2D/Dynamics/Contacts/b2EdgeAndCircleContact.cpp
	Box2D/Dynamics/Contacts/b2ContactSolver.cpp
	Box2D/Dynamics/Contacts/b2EdgeAndPolygonContact.cpp
	Box2D/Dynamics/Contacts/b2PolygonContact.cpp
	Box2D/Dynamics/Contacts/b2ChainAndPolygonContact.cpp
	Box2D/Dynamics/b2WorldCallbacks.cpp
	Box2D/Dynamics/Joints/b2PrismaticJoint.cpp
	Box2D/Dynamics/Joints/b2WeldJoint.cpp
	Box2D/Dynamics/Joints/b2FrictionJoint.cpp
	Box2D/Dynamics/Joints/b2DistanceJoint.cpp
	Box2D/Dynamics/Joints/b2GearJoint.cpp
	Box2D/Dynamics/Joints/b2MotorJoint.cpp
	Box2D/Dynamics/Joints/b2RopeJoint.cpp
	Box2D/Dynamics/Joints/b2Joint.cpp
	Box2D/Dynamics/Joints/b2RevoluteJoint.cpp
	Box2D/Dynamics/Joints/b2WheelJoint.cpp
	Box2D/Dynamics/Joints/b2MouseJoint.cpp
	Box2D/Dynamics/Joints/b2PulleyJoint.cpp
	Box2D/Dynamics/b2Island.cpp
	Box2D/Rope/b2Rope.cpp
	)

if(WIN32)
FILE(GLOB libs_PLATFORM_SRCS
	SDL/src/joystick/windows/*.c
	SDL/src/filesystem/windows/*.c
	SDL/src/haptic/windows/*.c
	SDL/src/video/windows/*.c
	SDL/src/loadso/windows/*.c
	SDL/src/main/windows/*.c
	SDL/src/timer/windows/*.c
	SDL/src/core/windows/*.c
	SDL/src/power/windows/*.c
	SDL/src/audio/winmm/*.c
	SDL/src/audio/directsound/*.c
	SDL/src/render/direct3d/*.c
	SDL/src/thread/windows/*.c
	SDL/src/thread/generic/SDL_syscond.c)
elseif(APPLE)
FILE(GLOB libs_PLATFORM_SRCS
	SDL_image/IMG_UIImage.m
	SDL/src/video/uikit/*.m
	SDL/src/video/cocoa/*.m
	SDL/src/file/cocoa/*.m
	SDL/src/filesystem/cocoa/*.m
	SDL/src/joystick/iphoneos/*.m
	SDL/src/power/uikit/*.m
	SDL/src/audio/coreaudio/*.c
	SDL/src/filesystem/cocoa/*.c
	SDL/src/joystick/iphoneos/*.c
	SDL/src/joystick/darwin/*.c
	SDL/src/timer/unix/*.c
	SDL/src/video/uikit/*.c
	SDL/src/main/dummy/*.c
	SDL/src/video/cocoa/*.c
	SDL/src/file/cocoa/*.c
	SDL/src/haptic/darwin/*.c
	SDL/src/power/macosx/*.c
	SDL/src/thread/pthread/*.c)
elseif(LINUX)
include(FindPkgConfig)
pkg_search_module(DBUS REQUIRED dbus-1 dbus)
include_directories(${DBUS_INCLUDE_DIRS})
FILE(GLOB libs_PLATFORM_SRCS
	SDL/src/thread/pthread/*.c
	SDL/src/haptic/linux/*.c
	SDL/src/joystick/linux/*.c
	SDL/src/audio/alsa/*.c
	SDL/src/audio/arts/*.c
	SDL/src/audio/pulseaudio/*.c
	SDL/src/timer/unix/*.c
	SDL/src/main/dummy/*.c
	SDL/src/core/linux/*.c
	SDL/src/power/linux/*.c)
elseif(ANDROID)
FILE(GLOB libs_PLATFORM_SRCS
	SDL/src/filesystem/android/*.c
	SDL/src/video/android/*.c
	SDL/src/core/android/*.c
	SDL/src/main/android/*.c
	SDL/src/audio/android/*.c
	SDL/src/joystick/android/*.c
	SDL/src/power/android/*.c)
elseif(NACL)
FILE(GLOB libs_PLATFORM_SRCS
	SDL/src/audio/nacl/*.c
	SDL/src/filesystem/nacl/*.c
	SDL/src/video/nacl/*.c
	SDL/src/timer/unix/*.c
	SDL/src/thread/pthread/*.c
	SDL/src/main/nacl/*.c)
endif()

add_definitions(-DLOAD_PNG -DPNG_NO_CONFIG_H -DHAVE_SDL_IMAGE_H -DLUA_USE_LONGJMP -DLUA_COMPAT_MODULE -DSQLITE_HAVE_ISNAN)
add_library(libs ${libs_SRCS} ${libs_PLATFORM_SRCS})
set_target_properties(libs PROPERTIES FOLDER libs)
target_link_libraries(libs dl pthread)
